var jst={type:{Integer:function(e){if("string"==typeof e&&(e=e.replace(",",".").replace(/[^0-9.]|\s/g,"")),jst.Checker.isset(e)&&e){if(!0===e)e=1;else if(isNaN(parseInt(e)))throw new jst.type.JSException("[Integer] Ungueltiger Parameter im Konstruktor!")}else e=0;this.value=parseInt(e)},Float:function(e){if("string"==typeof e&&(e=e.replace(",",".").replace(/[^0-9.]|\s/g,"")),jst.Checker.isset(e)&&e){if(!0===e)e=1;else if(isNaN(parseFloat(e)))throw new jst.type.JSException("[Float] Ungueltiger Parameter im Konstruktor! Zahl kann nicht konvertiert werden!")}else e=0;this.value=parseFloat(e)},String:function(e){null==e?e="null":jst.Checker.is_empty(e)&&(e=""),this.value=e.toString()},Boolean:function(e){this.value=!!e},Object:function(e){if("object"!=typeof e||"undefined"!==e.length)throw new jst.type.JSException("[Object] Ungueltiger Parameter beim Konstruktor! Es wird ein Objekt erwartet!");this.value=e},Array:function(e){if("object"!=typeof e||"undefined"===e.length)throw new jst.type.JSException("[Array] Ungueltiger Parameter beim Konstruktor! Es wird ein Array erwartet!");this.value=e},Range:function(e,t){this.from=new jst.type.Float(e).value,this.to=new jst.type.Float(t).value},Vector2D:function(e,t){this.x=e,this.y=t},Percent:function(e){e=(e=e>1?1:e)<0?0:e,this.value=e},JSException:function(e,t,r,n){this.message=void 0===e?"No errortext set":e,this.code=void 0===t?0:t,this.data="object"!=typeof r?{}:r,this.callback="function"!=typeof n?function(){}:n},check:function(e,t,r){return t=t.toLowerCase(),void 0===jst.type.names[t]?(console.error("[TypeChecker] Undefined Typereference: "+t),!1):e instanceof jst.type.names[t]||(r&&console.error("[TypeChecker] Structure (jst type) expected: "+t),!1)},names:{get integer(){return jst.type.Integer},get int(){return jst.type.Integer},get float(){return jst.type.Float},get boolean(){return jst.type.Boolean},get bool(){return jst.type.Boolean},get bit(){return jst.type.Boolean},get string(){return jst.type.String},get object(){return jst.type.Object},get array(){return jst.type.Array},get range(){return jst.type.Range},get vector2d(){return jst.type.Vector2D},get percent(){return jst.type.Percent},get jsexception(){return jst.type.JSException}}},Formatter:new function(){var e=this;e.to_number=function(e){return jst.type.check.is_number(e)?Number(e.toString().replace(",",".").replace(/[^0-9][\\.]/g,"")):null},e.zerofill=function(e,t){for(var r=e.toString(),n=0;n<t;n++)r="0"+r;return r.slice(-t)},e.get_datetimestring=function(e,t){return this.get_datestring(e,t)+" "+this.get_timestring(e)},e.get_datestring=function(e,t){return void 0!==e&&null!==e||(e=new Date),void 0!==t&&null!==t||(t=!1),t?this.zerofill(e.getFullYear(),4)+"-"+this.zerofill(e.getMonth()+1,2)+"-"+this.zerofill(e.getDate(),2):this.zerofill(e.getDate(),2)+"."+this.zerofill(e.getMonth()+1,2)+"."+this.zerofill(e.getFullYear(),4)},e.get_timestring=function(e,t){return void 0!==e&&null!==e||(e=new Date),void 0!==t&&null!==t||(t=!0),t?this.zerofill(e.getHours(),2)+":"+this.zerofill(e.getMinutes(),2)+":"+this.zerofill(e.getSeconds(),2):this.zerofill(e.getHours(),2)+":"+this.zerofill(e.getMinutes(),2)}},Checker:new function(){var e=this;e.is_number=function(e){return!isNaN(e)&&null!==e&&""!==e.toString().trim()},e.isset=function(e){return!(void 0===e||null===e)},e.is_empty=function(t){return!e.isset(t)||""===t.toString().trim()||"array"==typeof t&&0===jst.Calculator.count(t)||"object"==typeof t&&0===jst.Calculator.count(t)},e.is_key_in_object=function(e,t){for(var r in t)if(r===e)return!0;return!1},e.is_in_array=function(e,t){return t.indexOf(e)>-1}},Calculator:new function(){var e=this;e.percent=function(e,t){return!!jst.type.check(e,"float",!0)&&(!!jst.type.check(t,"range",!0)&&(e.value-t.from)/(t.to-t.from)*100)},e.ratio=function(e,t,r){return(r-=e)/(t-=e)*100},e.sum=function(e){var t=0;for(var r in e){var n=e[r];jst.Checker.is_number(n)&&(t+=n=Number(n))}return t},e.count=function(e){var t=0;for(var r in e)t++;return t},e.avg=function(t){return e.sum(t)/e.count(t)},e.max=function(e){var t=null;for(var r in e){var n=e[r];null===t&&(t=n),jst.Checker.is_number(n)&&(n=Number(n))>t&&(t=n)}return t},e.min=function(e){var t=null;for(var r in e){var n=e[r];null===t&&(t=n),jst.Checker.is_number(n)&&(n=Number(n))<t&&(t=n)}return t},e.circumference=function(e,t){return e=jst.type.check(e,"float")?e:new jst.type.Float(10),t=jst.type.check(t,"percent")?t:new jst.type.Percent(1),2*Math.PI*e.value*t.value}},Dom:new function(){var e=this;e.is_child=function(e,t){for(var r=!1,n=0;void 0!==e.parentNode&&null!==e.parentNode;){if(e===t){r=!0;break}if(e=e.parentNode,n>=5e3)break;n++}return r},e.replace_element=function(e,t){return e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),t},e.add_class=function(e,t){var r=e.className.split(" ");jst.Checker.is_in_array(t,r)||r.push(t),e.className=r.join(" ").trim()},e.remove_class=function(e,t){var r=new jst.classes.ArrayManager(e.className.split(" "));r.value_exists(t)&&r.remove(r.get_index(t)),0===r.array.length?e.removeAttribute("class"):e.className=r.array.join(" ").trim()},e.get_by_id=function(e){return document.getElementById(e)},e.get=function(e){var t={},r=document.querySelectorAll(e);for(var n in r)jst.Checker.is_number(n)&&(t[n]=r[n]);return t},e.remove=function(e){return e.parentNode.removeChild(e)},e.clear_style=function(e){e.removeAttribute("style")}},Extras:new function(){this.wait_until=function(e,t,r){r=void 0===r?5:r;var n=this;setTimeout(function(){e()?t():n.wait_until(e,t,r)},r)},this.get_random_id=function(e){void 0===e&&(e=3);for(var t=(Math.floor(16777216*Math.random())+1).toString(16),r=1;r<e;r++)t+="-"+(Math.floor(16777216*Math.random())+1).toString(16);return t}},classes:{LocalStorageManager:function(e){var t=this;t.construct=function(e){if(!jst.Checker.isset(e)&&"string"!=typeof e)return console.error("[JST] LocalStorageManager - Cant create instance without a storage key in constructor (Argument 1)"),!1;t.storage_key=e,t.default_object={}},t.get_objekt=function(){var e=null;if(null!==localStorage.getItem(this.storage_key))try{e=JSON.parse(localStorage.getItem(this.storage_key))}catch(e){}return e},t.get_objekt_key=function(e){if(null!==localStorage.getItem(this.storage_key)){var r=t.get_objekt();return null!==r&&void 0!==r[e]?r[e]:null}},t.set_objekt=function(e){console.log("New Obj",e),"object"!=typeof e?console.error("Object expected!"):localStorage.setItem(this.storage_key,JSON.stringify(e))},t.set_objekt_key=function(e,r){var n;null!==localStorage.getItem(this.storage_key)?((n=JSON.parse(localStorage.getItem(this.storage_key)))[e]=r,t.set_objekt(n)):((n=t.default_object)[e]=r,t.set_objekt(n))},t.delete=function(){localStorage.removeItem(this.storage_key)},t.clear=function(){null!==t.get_objekt(this.storage_key)&&localStorage.setItem(this.storage_key,null)},t.construct(e)},ObjectManager:function(e,t){var r=this;r.construct=function(e,t){r.object=void 0===e?{}:e,r.object=r.clone(),t=jst.Checker.isset(t)?t:null,r.localStorageManager=null!==t?new jst.classes.LocalStorageManager(t):null},r.add=function(e,t){r.object[e]=t},r.remove=function(e){void 0!==r.object[e]&&delete r.object[e]},r.set_localstorage_key=function(e){"string"!=typeof e?console.error("The key name must be a string!"):r.localStorageManager.storage_key=e},r.save=function(){if(null===r.localStorageManager)return console.warn("[JST] ObjectManager - Cant save object. No local_key defined in Constructor (Argument 2)"),!1;r.localStorageManager.set_objekt(r.object)},r.load=function(){if(null===r.localStorageManager)return console.warn("[JST] ObjectManager - Cant load object. No local_key defined in Constructor (Argument 2)"),!1;var e=r.localStorageManager.get_objekt();if(null!==e)if(r.count()>0)for(var t in e)void 0!==r.object[t]&&(r.object[t]=e[t]);else r.object=e},r.sync=function(){return r.load(),r.save(),!0},r.key_exists=function(e){return void 0!==r.object[e]},r.get_value=function(e){return void 0!==r.object[e]?r.object[e]:null},r.count=function(){var e=0;for(var t in r.object)e++;return e},r.get_keys=function(){var e=[];for(var t in r.object)e.push(t);return e},r.get_values=function(){var e=[];for(var t in r.object)e.push(r.object[t]);return e},r.compare_keys=function(e){var t=!0;for(var n in e)void 0===r.object[n]&&(t=!1);for(var n in r.object)void 0===e[n]&&(t=!1);return t},r.compare_keys_and_values=function(e){var t=!0;for(var n in e)void 0!==r.object[n]?e[n]!==r.object[n]&&(t=!1):t=!1;for(var n in r.object)void 0!==e[n]?r.object[n]!==e[n]&&(t=!1):t=!1;return t},r.clone=function(){return function e(t){var r={};for(var n in t){var o=t[n];"object"==typeof o&&(o=e(o)),r[n]=o}return r}(this.object)},r.construct(e,t)},ArrayManager:function(e,t){var r=this;r.construct=function(e,t){r.array=void 0===e?[]:e,t=void 0===t?null:t,r.localStorageManager=null!==t?new jst.classes.LocalStorageManager(t):null},r.add=function(e){r.array.push(e)},r.remove=function(e){r.array.splice(e,1)},r.get_index=function(e){for(var t in r.array)if(r.array[t]==e)return t;return null},r.count=function(){return r.array.length},r.value_exists=function(e){return r.array.indexOf(e)>-1},r.set_localstorage_key=function(e){"string"!=typeof e?console.error("The key name musst be a string!"):r.localStorageManager.storage_key=e},r.save=function(){if(null===t)return console.warn("[JST] ArrayManager - Cant save object. No local_key defined in Constructor (Argument 2)"),!1;r.localStorageManager.set_objekt({array:r.array})},r.load=function(){if(null===t)return console.warn("[JST] ArrayManager - Cant load object. No local_key defined in Constructor (Argument 2)"),!1;var e=r.localStorageManager.get_objekt_key("array");if(null!==e)if(r.count()>0)for(var n in e)r.value_exists(e[n])||r.add(e[n]);else r.array=e},r.compare_values=function(e){var t=!0;for(var n in e){var o=e[n];-1===r.array.indexOf(o)&&(t=!1)}for(var n in r.array){o=r.array[n];-1===e.indexOf(o)&&(t=!1)}return t},r.get_duplicated_values=function(){for(var e={},t=0;t<this.array.length;t++)this.array.indexOf(this.array[t],Number(t)+1)>-1&&(void 0===e[this.array[t]]?e[this.array[t]]={duplicated_ids:[t]}:e[this.array[t]].duplicated_ids.push(t));return e},r.remove_duplicated_values=function(){for(var e=0;e<this.array.length;e++)this.array.indexOf(this.array[e],Number(e)+1)>-1&&(this.array.splice(e,1),e--)},r.construct(e,t)}}};