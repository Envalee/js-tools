var jst={type:{Integer:function(number){if(typeof number==='string')
    number=number.replace(',','.').replace(/[^0-9.]|\s/g,"");if(!jst.Checker.isset(number)||!number)number=0;else if(number===!0)number=1;else if(isNaN(parseInt(number)))
    throw new jst.type.JSException('[Integer] Ungueltiger Parameter im Konstruktor!');this.value=parseInt(number)},Float:function(number){if(typeof number==='string')
    number=number.replace(',','.').replace(/[^0-9.]|\s/g,"");if(!jst.Checker.isset(number)||!number)number=0.0;else if(number===!0)number=1.0;else if(isNaN(parseFloat(number)))
    throw new jst.type.JSException('[Float] Ungueltiger Parameter im Konstruktor! Zahl kann nicht konvertiert werden!');this.value=parseFloat(number)},String:function(string){if(string==null)string='null';else if(jst.Checker.is_empty(string))string="";this.value=string.toString()},Boolean:function(boolean){this.value=!!boolean},Object:function(object){if(typeof object==='object'&&object.length==='undefined'){this.value=object}else{throw new jst.type.JSException('[Object] Ungueltiger Parameter beim Konstruktor! Es wird ein Objekt erwartet!')}},Array:function(array){if(typeof array==='object'&&array.length!=='undefined'){this.value=array}else{throw new jst.type.JSException('[Array] Ungueltiger Parameter beim Konstruktor! Es wird ein Array erwartet!')}},Range:function(from,to){this.from=new jst.type.Float(from).value;this.to=new jst.type.Float(to).value},Vector2D:function(x,y){this.x=x;this.y=y},Percent:function(float_from_zero_to_one){float_from_zero_to_one=float_from_zero_to_one>1?1:float_from_zero_to_one;float_from_zero_to_one=float_from_zero_to_one<0?0:float_from_zero_to_one;this.value=float_from_zero_to_one},JSException:function(message,code,data,callback){this.message=typeof message==='undefined'?'No errortext set':message;this.code=typeof code==='undefined'?0:code;this.data=typeof data!=='object'?{}:data;this.callback=typeof callback!=='function'?function(){}:callback},check:function(value,typename,show_console_error){typename=typename.toLowerCase();if(typeof jst.type.names[typename]==='undefined'){console.error("[TypeChecker] Undefined Typereference: "+typename);return!1}
    if(value instanceof jst.type.names[typename]){return!0}else{if(show_console_error)console.error("[TypeChecker] Structure (jst type) expected: "+typename);return!1}},names:{get integer(){return jst.type.Integer},get int(){return jst.type.Integer},get float(){return jst.type.Float},get boolean(){return jst.type.Boolean},get bool(){return jst.type.Boolean},get bit(){return jst.type.Boolean},get string(){return jst.type.String},get object(){return jst.type.Object},get array(){return jst.type.Array},get range(){return jst.type.Range},get vector2d(){return jst.type.Vector2D},get percent(){return jst.type.Percent},get jsexception(){return jst.type.JSException}}},Formatter:new function(){var self=this;self.to_number=function(number_string){if(jst.type.check.is_number(number_string))
    return Number(number_string.toString().replace(',','.').replace(/[^0-9][\\.]/g,''));else return null};self.zerofill=function(number,number_length){var number_zerofilled=number.toString();for(var i=0;i<number_length;i++)number_zerofilled='0'+number_zerofilled;return number_zerofilled.slice(-number_length)};self.get_datetimestring=function(dateobject,iso_date_format){return this.get_datestring(dateobject,iso_date_format)+" "+this.get_timestring(dateobject)};self.get_datestring=function(dateobject,iso_date_format){if(typeof dateobject==='undefined'||dateobject===null)dateobject=new Date();if(typeof iso_date_format==='undefined'||iso_date_format===null)iso_date_format=!1;if(iso_date_format){return this.zerofill(dateobject.getFullYear(),4)+"-"+this.zerofill((dateobject.getMonth()+1),2)+"-"+this.zerofill(dateobject.getDate(),2)}else{return this.zerofill(dateobject.getDate(),2)+"."+this.zerofill((dateobject.getMonth()+1),2)+"."+this.zerofill(dateobject.getFullYear(),4)}};self.get_timestring=function(dateobject,display_seconds){if(typeof dateobject==='undefined'||dateobject===null)dateobject=new Date();if(typeof display_seconds==='undefined'||display_seconds===null)display_seconds=!0;if(display_seconds){return this.zerofill(dateobject.getHours(),2)+":"+this.zerofill(dateobject.getMinutes(),2)+":"+this.zerofill(dateobject.getSeconds(),2)}else{return this.zerofill(dateobject.getHours(),2)+":"+this.zerofill(dateobject.getMinutes(),2)}}},Checker:new function(){var self=this;self.is_number=function(value){return(!isNaN(value)&&value!==null&&value.toString().trim()!=='')};self.isset=function(value){return!(typeof value==='undefined'||value===null)};self.is_empty=function(value){return(!self.isset(value)||value.toString().trim()===''||(typeof value==='array'&&jst.Calculator.count(value)===0)||(typeof value==='object'&&jst.Calculator.count(value)===0))};self.is_key_in_object=function(key,object){for(var word in object)
    if(word===key)
        return!0;return!1};self.is_in_array=function(value,array){return array.indexOf(value)>-1}},Calculator:new function(){var self=this;self.percent=function(float,range){if(!jst.type.check(float,'float',!0))return!1;if(!jst.type.check(range,'range',!0))return!1;return(float.value-range.from)/(range.to-range.from)*100};self.ratio=function(min,max,value){value=value-min;max=max-min;return value/max*100};self.sum=function(array){var sum=0;for(var index in array){var val=array[index];if(jst.Checker.is_number(val)){val=Number(val);sum+=val}}
    return sum};self.count=function(object_or_array){var count=0;for(var i in object_or_array){count++}
    return count};self.avg=function(array){return self.sum(array)/self.count(array)};self.max=function(object_or_array){var max=null;for(var i in object_or_array){var val=object_or_array[i];if(max===null)max=val;if(jst.Checker.is_number(val)){val=Number(val);if(val>max)max=val}}
    return max};self.min=function(object_or_array){var min=null;for(var i in object_or_array){var val=object_or_array[i];if(min===null)min=val;if(jst.Checker.is_number(val)){val=Number(val);if(val<min)min=val}}
    return min};self.circumference=function(float_radius,percent){float_radius=jst.type.check(float_radius,"float")?float_radius:new jst.type.Float(10);percent=jst.type.check(percent,"percent")?percent:new jst.type.Percent(1.0);return 2*Math.PI*float_radius.value*percent.value}},Dom:new function(){var self=this;self.is_child=function(child_node,parent_node){var is_child=!1;var max_loop=5000;var i=0;for(;;){if(typeof child_node.parentNode==='undefined'||child_node.parentNode===null){break}
    if(child_node===parent_node){is_child=!0;break}
    child_node=child_node.parentNode;if(i>=max_loop)break;i++}
    return is_child};self.replace_element=function(old_node,new_node){old_node.parentNode.insertBefore(new_node,old_node);old_node.parentNode.removeChild(old_node);return new_node}
    self.add_class=function(node_element,classname){var classnames=node_element.className.split(' ');if(!jst.Checker.is_in_array(classname,classnames))
        classnames.push(classname);node_element.className=classnames.join(" ").trim()};self.remove_class=function(node_element,classname){var classnames=new jst.classes.ArrayManager(node_element.className.split(' '));if(classnames.value_exists(classname))
        classnames.remove(classnames.get_index(classname));if(classnames.array.length===0)node_element.removeAttribute('class');else node_element.className=classnames.array.join(" ").trim()};self.get_by_id=function(node_id){return document.getElementById(node_id)};self.get=function(selector){var nodes=[];var selection=document.querySelectorAll(selector);for(var i in selection){if(jst.Checker.is_number(i))nodes.push(selection[i])}
        return nodes};self.remove=function(node_element){return node_element.parentNode.removeChild(node_element)}
    self.clear_style=function(node_element){node_element.removeAttribute('style')};self.create_element=function(tagtype,element_attributes,element_events,target_selector){tagtype=jst.Checker.isset(tagtype)?tagtype:'div';element_attributes=typeof element_attributes==='object'?element_attributes:{};element_events=typeof element_events==='object'?element_events:{};var element=document.createElement(tagtype);element.destroy=function(){element.parentNode.removeChild(element)};for(var key in element_attributes){element.setAttribute(key,element_attributes[key])}
        for(var key in element_events){element.addEventListener(key,element_events[key])}
        if(jst.Checker.isset(target_selector)){document.querySelector(target_selector).appendChild(element)}
        return element}},Extras:new function(){var self=this;self.wait_until=function(check_func,on_ready_func,wait_intervall_in_ms){wait_intervall_in_ms=typeof wait_intervall_in_ms==='undefined'?5:wait_intervall_in_ms;var self=this;setTimeout(function(){if(check_func()){on_ready_func()}else{self.wait_until(check_func,on_ready_func,wait_intervall_in_ms)}},wait_intervall_in_ms)};self.get_random_id=function(hex_blocks){if(typeof hex_blocks==='undefined')hex_blocks=3;var id=(Math.floor(Math.random()*0x1000000)+1).toString(16);for(var i=1;i<hex_blocks;i++){id+="-"+(Math.floor(Math.random()*0x1000000)+1).toString(16)}
    return id}},classes:{LocalStorageManager:function(storage_key){var self=this;self.construct=function(storage_key){if(!jst.Checker.isset(storage_key)&&typeof storage_key!=='string'){console.error("[JST] LocalStorageManager - Cant create instance without a storage key in constructor (Argument 1)");return!1}
    self.storage_key=storage_key;self.default_object={}};self.get_objekt=function(){var objekt=null;if(localStorage.getItem(this.storage_key)!==null){try{objekt=JSON.parse(localStorage.getItem(this.storage_key))}catch(e){}}
    return objekt};self.get_objekt_key=function(object_key){if(localStorage.getItem(this.storage_key)!==null){var objekt=self.get_objekt();if(objekt!==null&&typeof objekt[object_key]!=='undefined')return objekt[object_key];else return null}};self.set_objekt=function(object){console.log("New Obj",object);if(typeof object!=='object')console.error("Object expected!");else localStorage.setItem(this.storage_key,JSON.stringify(object))};self.set_objekt_key=function(object_key,value){if(localStorage.getItem(this.storage_key)!==null){var objekt=JSON.parse(localStorage.getItem(this.storage_key));objekt[object_key]=value;self.set_objekt(objekt)}else{var objekt=self.default_object;objekt[object_key]=value;self.set_objekt(objekt)}};self.delete=function(){localStorage.removeItem(this.storage_key)};self.clear=function(){if(self.get_objekt(this.storage_key)!==null)
    localStorage.setItem(this.storage_key,null)};self.construct(storage_key)},ObjectManager:function(object,local_key){var self=this;self.construct=function(object,local_key){self.object=typeof object==='undefined'?{}:object;self.object=self.clone();local_key=!jst.Checker.isset(local_key)?null:local_key;if(local_key!==null)
    self.localStorageManager=new jst.classes.LocalStorageManager(local_key);else self.localStorageManager=null};self.add=function(key,value){self.object[key]=value};self.remove=function(key){if(typeof self.object[key]!=='undefined')
    delete self.object[key]};self.set_localstorage_key=function(key_name){if(typeof key_name!=='string')console.error('The key name must be a string!');else self.localStorageManager.storage_key=key_name};self.save=function(){if(self.localStorageManager===null){console.warn('[JST] ObjectManager - Cant save object. No local_key defined in Constructor (Argument 2)');return!1}else self.localStorageManager.set_objekt(self.object)};self.load=function(){if(self.localStorageManager===null){console.warn('[JST] ObjectManager - Cant load object. No local_key defined in Constructor (Argument 2)');return!1}else{var localStorageObject=self.localStorageManager.get_objekt();if(localStorageObject!==null){if(self.count()>0){for(var key in localStorageObject){if(typeof self.object[key]!=='undefined'){self.object[key]=localStorageObject[key]}}}else{self.object=localStorageObject}}}};self.sync=function(){self.load();self.save();return!0};self.key_exists=function(key){return typeof self.object[key]!=='undefined'};self.get_value=function(key){if(typeof self.object[key]!=='undefined')return self.object[key];else return null};self.count=function(){var key_count=0;for(var i in self.object)key_count++;return key_count};self.get_keys=function(){var keys=[];for(var key in self.object)keys.push(key);return keys};self.get_values=function(){var values=[];for(var key in self.object)values.push(self.object[key]);return values};self.compare_keys=function(other_object){var same=!0;for(var key in other_object){if(typeof self.object[key]==='undefined')same=!1}
    for(var key in self.object){if(typeof other_object[key]==='undefined')same=!1}
    return same};self.compare_keys_and_values=function(other_object){var same=!0;for(var key in other_object){if(typeof self.object[key]!=='undefined'){if(other_object[key]!==self.object[key])same=!1}else same=!1}
    for(var key in self.object){if(typeof other_object[key]!=='undefined'){if(self.object[key]!==other_object[key])same=!1}else same=!1}
    return same};self.clone=function(){function _clone_object(object){var new_obj={};for(var key in object){var value=object[key];if(typeof value==='object'){value=_clone_object(value)}
    new_obj[key]=value}
    return new_obj}
    return _clone_object(this.object)};self.construct(object,local_key)},ArrayManager:function(array,local_key){var self=this;self.construct=function(array,local_key){self.array=typeof array==='undefined'?[]:array;local_key=typeof local_key==='undefined'?null:local_key;if(local_key!==null)
    self.localStorageManager=new jst.classes.LocalStorageManager(local_key);else self.localStorageManager=null};self.add=function(value){self.array.push(value)};self.remove=function(index){self.array.splice(index,1)};self.get_index=function(value){for(var index in self.array){if(self.array[index]==value)return index}
    return null};self.count=function(){return self.array.length};self.value_exists=function(value){return self.array.indexOf(value)>-1};self.set_localstorage_key=function(key_name){if(typeof key_name!=='string')console.error('The key name musst be a string!');else self.localStorageManager.storage_key=key_name};self.save=function(){if(local_key===null){console.warn('[JST] ArrayManager - Cant save object. No local_key defined in Constructor (Argument 2)');return!1}
else self.localStorageManager.set_objekt({'array':self.array})};self.load=function(){if(local_key===null){console.warn('[JST] ArrayManager - Cant load object. No local_key defined in Constructor (Argument 2)');return!1}else{var localStorageArray=self.localStorageManager.get_objekt_key('array');if(localStorageArray!==null){if(self.count()>0){for(var i in localStorageArray){if(!self.value_exists(localStorageArray[i])){self.add(localStorageArray[i])}}}else{self.array=localStorageArray}}}};self.compare_values=function(other_array){var same=!0;for(var i in other_array){var value=other_array[i];if(self.array.indexOf(value)===-1)same=!1}
    for(var i in self.array){var value=self.array[i];if(other_array.indexOf(value)===-1)same=!1}
    return same};self.get_duplicated_values=function(){var duplicated_values={};for(var index=0;index<this.array.length;index++){if(this.array.indexOf(this.array[index],Number(index)+1)>-1)
    if(typeof duplicated_values[this.array[index]]==='undefined')
        duplicated_values[this.array[index]]={duplicated_ids:[index]}
    else{duplicated_values[this.array[index]].duplicated_ids.push(index)}}
    return duplicated_values};self.remove_duplicated_values=function(){for(var index=0;index<this.array.length;index++){if(this.array.indexOf(this.array[index],Number(index)+1)>-1){this.array.splice(index,1);index--}}};self.construct(array,local_key)}}}